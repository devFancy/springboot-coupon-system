## 용어 사전 만들기

> 용어 사전은 프로젝트(또는 서비스)에 참여하는 도메인 전문가, 개발자, 기획자, 디자이너 등 다양한 직군 간의 의사소통을 명확하게 하기 위한 도구입니다. 이 사전은 하위 도메인과 바운디드 컨텍스트를 기준으로 도메인 내 개념을 일관되게 설명합니다.

하위 도메인은 자연스럽게 나뉘는 주제 영역입니다.

* 비즈니스 전체 흐름 속에서 각 영역이 무엇을 책임지는지에 따라 구분됩니다.

바운디드 컨텍스트는 시스템이 책임지는 논리적 경계입니다. (=개발자가 인위적으로 경계를 나누는 것)

* 개발자가 일하기 편하게 쪼갠 구현 단위이며, 내부에는 의미 있는 도메인 객체들이 존재하고 상호작용합니다.
* 같은 단어라도 컨텍스트마다 의미가 다를 수 있으므로, 언어와 의미가 일관되게 작동하는 유효 범위라고도 볼 수 있습니다.

즉, 하위 도메인은 '무엇'을 다루는지, 바운디드 컨텍스트는 '어디까지 책임질 것인지'를 결정한다고 이해하시면 됩니다.

### 하위 도메인

* User: 사용자 및 관리자 (아이디, 비밀번호, 권한)
* Coupon: 쿠폰 생성, 발급, 사용 등 전체 로직

### 바운디드 컨텍스트

| 바운디드 컨텍스트         | 설명                                   |
|-------------------|--------------------------------------|
| User              | 로그인, 사용자 인증 처리                       |
| Coupon            | 쿠폰 생성, 수량·유효기간 관리                    |
| IssuedCoupon      | 사용자에게 발급된 쿠폰 관리 (발급, 중복 방지, 사용 처리 등) |
| UserCouponHistory | 사용자가 보유하거나 사용한 쿠폰 이력 조회              |

```markdown
[Coupon] ──▶ 쿠폰 정의
     │ defines
     ▼
[IssuedCoupon] ──▶ 발급 및 사용 처리
     │
     ▼
[UserCouponHistory] ◀─ 사용자별 이력 조회
```

---

### User (사용자)

> 사용자 정보를 등록, 인증, 조회하고 권한을 관리하는 도메인입니다.

| 한글명    | 영문명      | 설명                            |
| ------ | -------- | ----------------------------- |
| 사용자 ID | id       | 내부 시스템에서 사용하는 고유 식별자 (UUID 등) |
| 아이디    | Username | 로그인 시 사용하는 식별자                |
| 비밀번호   | Password | 비밀번호 (암호화 저장)                 |
| 권한     | UserRole | ADMIN 또는 USER 값. 관리자/사용자 구분용  |

### Coupon (쿠폰 정의)

> 쿠폰 발급의 템플릿을 정의하고, 쿠폰의 속성 및 정책을 관리하는 도메인입니다.

| 한글명    | 영문명           | 설명                                          |
| ------ | ------------- | ------------------------------------------- |
| 쿠폰 ID  | couponId      | 쿠폰 정의의 고유 식별자 (UUID)                        |
| 쿠폰 이름  | name          | 쿠폰 제목 또는 설명                                 |
| 쿠폰 타입  | couponType    | CHICKEN, PIZZA, BURGER 등                    |
| 발급 수량  | totalQuantity | 발급 가능한 총 수량                                 |
| 유효 시작일 | validFrom     | 사용 가능 시작일                                   |
| 유효 종료일 | validUntil    | 만료일                                         |
| 쿠폰 상태  | status        | ACTIVE(사용 가능), EXPIRED(만료됨), DISABLED(비활성화) |

### IssuedCoupon (발급된 쿠폰)

> 사용자에게 발급된 쿠폰을 관리하며, 발급, 중복 방지, 사용 처리 등의 비즈니스 로직을 포함하는 도메인입니다.

| 한글명      | 영문명             | 설명                      |
| -------- | --------------- | ----------------------- |
| 발급 쿠폰 ID | issuedCouponId  | 사용자에게 발급된 쿠폰의 고유 식별자    |
| 사용자 ID   | userId          | 해당 쿠폰을 발급받은 사용자         |
| 쿠폰 ID    | couponId        | 어떤 쿠폰이 발급되었는지 참조        |
| 발급일      | issuedAt        | 쿠폰이 발급된 시점              |
| 사용 여부    | used            | 쿠폰이 사용되었는지 여부 (boolean) |
| 사용일      | usedAt          | 쿠폰 사용 시점                |
| 중복 방지 키  | userId+couponId | 복합 유니크 키로 중복 발급 방지      |

### UserCouponHistory (사용자 쿠폰 이력 조회, 조회 전용 View)

> 사용자 기준으로 발급된 쿠폰의 보유 여부, 사용 이력, 만료 여부 등을 조회하는 도메인입니다. 조회 성능 중심의 Projection View 또는 Read Model로 구성됩니다.

| 한글명      | 영문명            | 설명                                            |
| -------- | -------------- | --------------------------------------------- |
| 사용자 ID   | userId         | 쿠폰 소유자                                        |
| 발급 쿠폰 ID | issuedCouponId | 사용자가 발급받은 개별 쿠폰 ID (Projection View에서 필드로 표현) |
| 사용 여부    | used           | 쿠폰 사용 여부 (필터 조건 가능)                           |
| 쿠폰 타입    | couponType     | 발급받은 쿠폰의 종류                                   |
| 발급일      | issuedAt       | 발급 시점                                         |
| 사용일      | usedAt         | 사용한 경우 사용 시각                                  |
| 만료일      | validUntil     | 만료된 쿠폰 필터링용 정보                                |
| 조회 기준 상태 | statusFilter   | ALL, USED, UNUSED, EXPIRED 등 조회 조건            |

---
